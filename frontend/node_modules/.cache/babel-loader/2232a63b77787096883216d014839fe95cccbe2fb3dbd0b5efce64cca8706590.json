{"ast":null,"code":"import axios from'axios';const API_BASE_URL=process.env.REACT_APP_API_URL||'http://localhost:8080/api/v1';const api=axios.create({baseURL:API_BASE_URL,headers:{'Content-Type':'application/json'}});export const serviceAPI={createService:service=>api.post('/services',service),getServices:()=>api.get('/services'),getService:id=>api.get(\"/services/\".concat(id)),updateService:(id,service)=>api.put(\"/services/\".concat(id),service),deleteService:id=>api.delete(\"/services/\".concat(id))};export const sloAPI={createSLO:slo=>api.post('/slos',slo),getSLOs:serviceId=>api.get(\"/services/\".concat(serviceId,\"/slos\")),getSLO:id=>api.get(\"/slos/\".concat(id)),updateSLO:(id,slo)=>api.put(\"/slos/\".concat(id),slo),deleteSLO:id=>api.delete(\"/slos/\".concat(id))};export const monitoringAPI={getSLOStatus:serviceId=>api.get(\"/services/\".concat(serviceId,\"/slo-status\")),getErrorBudget:serviceId=>api.get(\"/services/\".concat(serviceId,\"/error-budget\")),checkDeploySafety:(serviceName,environment)=>api.get('/deploy-check',{params:{service:serviceName,env:environment}}),ingestMetric:metric=>api.post('/metrics/ingest',metric)};export const healthAPI={check:()=>api.get('/health')};export default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","headers","serviceAPI","createService","service","post","getServices","get","getService","id","concat","updateService","put","deleteService","delete","sloAPI","createSLO","slo","getSLOs","serviceId","getSLO","updateSLO","deleteSLO","monitoringAPI","getSLOStatus","getErrorBudget","checkDeploySafety","serviceName","environment","params","ingestMetric","metric","healthAPI","check"],"sources":["C:/Users/Gaurav Mishra/Downloads/AwesomeGRV Repo/ErrorBudget/frontend/src/services/api.ts"],"sourcesContent":["import axios from 'axios';\nimport { Service, SLO, SLOStatus, ErrorBudget, DeployCheck, MetricIngest } from '../types';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8080/api/v1';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\nexport const serviceAPI = {\n  createService: (service: Omit<Service, 'id' | 'created_at' | 'updated_at'>) =>\n    api.post<Service>('/services', service),\n  \n  getServices: () =>\n    api.get<Service[]>('/services'),\n  \n  getService: (id: number) =>\n    api.get<Service>(`/services/${id}`),\n  \n  updateService: (id: number, service: Partial<Service>) =>\n    api.put<Service>(`/services/${id}`, service),\n  \n  deleteService: (id: number) =>\n    api.delete(`/services/${id}`),\n};\n\nexport const sloAPI = {\n  createSLO: (slo: Omit<SLO, 'id' | 'created_at' | 'updated_at'>) =>\n    api.post<SLO>('/slos', slo),\n  \n  getSLOs: (serviceId: number) =>\n    api.get<SLO[]>(`/services/${serviceId}/slos`),\n  \n  getSLO: (id: number) =>\n    api.get<SLO>(`/slos/${id}`),\n  \n  updateSLO: (id: number, slo: Partial<SLO>) =>\n    api.put<SLO>(`/slos/${id}`, slo),\n  \n  deleteSLO: (id: number) =>\n    api.delete(`/slos/${id}`),\n};\n\nexport const monitoringAPI = {\n  getSLOStatus: (serviceId: number) =>\n    api.get<SLOStatus[]>(`/services/${serviceId}/slo-status`),\n  \n  getErrorBudget: (serviceId: number) =>\n    api.get<ErrorBudget[]>(`/services/${serviceId}/error-budget`),\n  \n  checkDeploySafety: (serviceName: string, environment: string) =>\n    api.get<DeployCheck>('/deploy-check', {\n      params: { service: serviceName, env: environment },\n    }),\n  \n  ingestMetric: (metric: MetricIngest) =>\n    api.post('/metrics/ingest', metric),\n};\n\nexport const healthAPI = {\n  check: () =>\n    api.get('/health'),\n};\n\nexport default api;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAGzB,KAAM,CAAAC,YAAY,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,8BAA8B,CAEpF,KAAM,CAAAC,GAAG,CAAGL,KAAK,CAACM,MAAM,CAAC,CACvBC,OAAO,CAAEN,YAAY,CACrBO,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CAEF,MAAO,MAAM,CAAAC,UAAU,CAAG,CACxBC,aAAa,CAAGC,OAA0D,EACxEN,GAAG,CAACO,IAAI,CAAU,WAAW,CAAED,OAAO,CAAC,CAEzCE,WAAW,CAAEA,CAAA,GACXR,GAAG,CAACS,GAAG,CAAY,WAAW,CAAC,CAEjCC,UAAU,CAAGC,EAAU,EACrBX,GAAG,CAACS,GAAG,cAAAG,MAAA,CAAuBD,EAAE,CAAE,CAAC,CAErCE,aAAa,CAAEA,CAACF,EAAU,CAAEL,OAAyB,GACnDN,GAAG,CAACc,GAAG,cAAAF,MAAA,CAAuBD,EAAE,EAAIL,OAAO,CAAC,CAE9CS,aAAa,CAAGJ,EAAU,EACxBX,GAAG,CAACgB,MAAM,cAAAJ,MAAA,CAAcD,EAAE,CAAE,CAChC,CAAC,CAED,MAAO,MAAM,CAAAM,MAAM,CAAG,CACpBC,SAAS,CAAGC,GAAkD,EAC5DnB,GAAG,CAACO,IAAI,CAAM,OAAO,CAAEY,GAAG,CAAC,CAE7BC,OAAO,CAAGC,SAAiB,EACzBrB,GAAG,CAACS,GAAG,cAAAG,MAAA,CAAqBS,SAAS,SAAO,CAAC,CAE/CC,MAAM,CAAGX,EAAU,EACjBX,GAAG,CAACS,GAAG,UAAAG,MAAA,CAAeD,EAAE,CAAE,CAAC,CAE7BY,SAAS,CAAEA,CAACZ,EAAU,CAAEQ,GAAiB,GACvCnB,GAAG,CAACc,GAAG,UAAAF,MAAA,CAAeD,EAAE,EAAIQ,GAAG,CAAC,CAElCK,SAAS,CAAGb,EAAU,EACpBX,GAAG,CAACgB,MAAM,UAAAJ,MAAA,CAAUD,EAAE,CAAE,CAC5B,CAAC,CAED,MAAO,MAAM,CAAAc,aAAa,CAAG,CAC3BC,YAAY,CAAGL,SAAiB,EAC9BrB,GAAG,CAACS,GAAG,cAAAG,MAAA,CAA2BS,SAAS,eAAa,CAAC,CAE3DM,cAAc,CAAGN,SAAiB,EAChCrB,GAAG,CAACS,GAAG,cAAAG,MAAA,CAA6BS,SAAS,iBAAe,CAAC,CAE/DO,iBAAiB,CAAEA,CAACC,WAAmB,CAAEC,WAAmB,GAC1D9B,GAAG,CAACS,GAAG,CAAc,eAAe,CAAE,CACpCsB,MAAM,CAAE,CAAEzB,OAAO,CAAEuB,WAAW,CAAE/B,GAAG,CAAEgC,WAAY,CACnD,CAAC,CAAC,CAEJE,YAAY,CAAGC,MAAoB,EACjCjC,GAAG,CAACO,IAAI,CAAC,iBAAiB,CAAE0B,MAAM,CACtC,CAAC,CAED,MAAO,MAAM,CAAAC,SAAS,CAAG,CACvBC,KAAK,CAAEA,CAAA,GACLnC,GAAG,CAACS,GAAG,CAAC,SAAS,CACrB,CAAC,CAED,cAAe,CAAAT,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}