{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8080/api/v1';\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\nexport const serviceAPI = {\n  createService: service => api.post('/services', service),\n  getServices: () => api.get('/services'),\n  getService: id => api.get(`/services/${id}`),\n  updateService: (id, service) => api.put(`/services/${id}`, service),\n  deleteService: id => api.delete(`/services/${id}`)\n};\nexport const sloAPI = {\n  createSLO: slo => api.post('/slos', slo),\n  getSLOs: serviceId => api.get(`/services/${serviceId}/slos`),\n  getSLO: id => api.get(`/slos/${id}`),\n  updateSLO: (id, slo) => api.put(`/slos/${id}`, slo),\n  deleteSLO: id => api.delete(`/slos/${id}`)\n};\nexport const monitoringAPI = {\n  getSLOStatus: serviceId => api.get(`/services/${serviceId}/slo-status`),\n  getErrorBudget: serviceId => api.get(`/services/${serviceId}/error-budget`),\n  checkDeploySafety: (serviceName, environment) => api.get('/deploy-check', {\n    params: {\n      service: serviceName,\n      env: environment\n    }\n  }),\n  ingestMetric: metric => api.post('/metrics/ingest', metric)\n};\nexport const healthAPI = {\n  check: () => api.get('/health')\n};\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","headers","serviceAPI","createService","service","post","getServices","get","getService","id","updateService","put","deleteService","delete","sloAPI","createSLO","slo","getSLOs","serviceId","getSLO","updateSLO","deleteSLO","monitoringAPI","getSLOStatus","getErrorBudget","checkDeploySafety","serviceName","environment","params","ingestMetric","metric","healthAPI","check"],"sources":["C:/Users/Gaurav Mishra/Downloads/AwesomeGRV Repo/ErrorBudget/frontend/src/services/api.ts"],"sourcesContent":["import axios from 'axios';\nimport { Service, SLO, SLOStatus, ErrorBudget, DeployCheck, MetricIngest } from '../types';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8080/api/v1';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\nexport const serviceAPI = {\n  createService: (service: Omit<Service, 'id' | 'created_at' | 'updated_at'>) =>\n    api.post<Service>('/services', service),\n  \n  getServices: () =>\n    api.get<Service[]>('/services'),\n  \n  getService: (id: number) =>\n    api.get<Service>(`/services/${id}`),\n  \n  updateService: (id: number, service: Partial<Service>) =>\n    api.put<Service>(`/services/${id}`, service),\n  \n  deleteService: (id: number) =>\n    api.delete(`/services/${id}`),\n};\n\nexport const sloAPI = {\n  createSLO: (slo: Omit<SLO, 'id' | 'created_at' | 'updated_at'>) =>\n    api.post<SLO>('/slos', slo),\n  \n  getSLOs: (serviceId: number) =>\n    api.get<SLO[]>(`/services/${serviceId}/slos`),\n  \n  getSLO: (id: number) =>\n    api.get<SLO>(`/slos/${id}`),\n  \n  updateSLO: (id: number, slo: Partial<SLO>) =>\n    api.put<SLO>(`/slos/${id}`, slo),\n  \n  deleteSLO: (id: number) =>\n    api.delete(`/slos/${id}`),\n};\n\nexport const monitoringAPI = {\n  getSLOStatus: (serviceId: number) =>\n    api.get<SLOStatus[]>(`/services/${serviceId}/slo-status`),\n  \n  getErrorBudget: (serviceId: number) =>\n    api.get<ErrorBudget[]>(`/services/${serviceId}/error-budget`),\n  \n  checkDeploySafety: (serviceName: string, environment: string) =>\n    api.get<DeployCheck>('/deploy-check', {\n      params: { service: serviceName, env: environment },\n    }),\n  \n  ingestMetric: (metric: MetricIngest) =>\n    api.post('/metrics/ingest', metric),\n};\n\nexport const healthAPI = {\n  check: () =>\n    api.get('/health'),\n};\n\nexport default api;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB,MAAMC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,8BAA8B;AAEpF,MAAMC,GAAG,GAAGL,KAAK,CAACM,MAAM,CAAC;EACvBC,OAAO,EAAEN,YAAY;EACrBO,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;AAEF,OAAO,MAAMC,UAAU,GAAG;EACxBC,aAAa,EAAGC,OAA0D,IACxEN,GAAG,CAACO,IAAI,CAAU,WAAW,EAAED,OAAO,CAAC;EAEzCE,WAAW,EAAEA,CAAA,KACXR,GAAG,CAACS,GAAG,CAAY,WAAW,CAAC;EAEjCC,UAAU,EAAGC,EAAU,IACrBX,GAAG,CAACS,GAAG,CAAU,aAAaE,EAAE,EAAE,CAAC;EAErCC,aAAa,EAAEA,CAACD,EAAU,EAAEL,OAAyB,KACnDN,GAAG,CAACa,GAAG,CAAU,aAAaF,EAAE,EAAE,EAAEL,OAAO,CAAC;EAE9CQ,aAAa,EAAGH,EAAU,IACxBX,GAAG,CAACe,MAAM,CAAC,aAAaJ,EAAE,EAAE;AAChC,CAAC;AAED,OAAO,MAAMK,MAAM,GAAG;EACpBC,SAAS,EAAGC,GAAkD,IAC5DlB,GAAG,CAACO,IAAI,CAAM,OAAO,EAAEW,GAAG,CAAC;EAE7BC,OAAO,EAAGC,SAAiB,IACzBpB,GAAG,CAACS,GAAG,CAAQ,aAAaW,SAAS,OAAO,CAAC;EAE/CC,MAAM,EAAGV,EAAU,IACjBX,GAAG,CAACS,GAAG,CAAM,SAASE,EAAE,EAAE,CAAC;EAE7BW,SAAS,EAAEA,CAACX,EAAU,EAAEO,GAAiB,KACvClB,GAAG,CAACa,GAAG,CAAM,SAASF,EAAE,EAAE,EAAEO,GAAG,CAAC;EAElCK,SAAS,EAAGZ,EAAU,IACpBX,GAAG,CAACe,MAAM,CAAC,SAASJ,EAAE,EAAE;AAC5B,CAAC;AAED,OAAO,MAAMa,aAAa,GAAG;EAC3BC,YAAY,EAAGL,SAAiB,IAC9BpB,GAAG,CAACS,GAAG,CAAc,aAAaW,SAAS,aAAa,CAAC;EAE3DM,cAAc,EAAGN,SAAiB,IAChCpB,GAAG,CAACS,GAAG,CAAgB,aAAaW,SAAS,eAAe,CAAC;EAE/DO,iBAAiB,EAAEA,CAACC,WAAmB,EAAEC,WAAmB,KAC1D7B,GAAG,CAACS,GAAG,CAAc,eAAe,EAAE;IACpCqB,MAAM,EAAE;MAAExB,OAAO,EAAEsB,WAAW;MAAE9B,GAAG,EAAE+B;IAAY;EACnD,CAAC,CAAC;EAEJE,YAAY,EAAGC,MAAoB,IACjChC,GAAG,CAACO,IAAI,CAAC,iBAAiB,EAAEyB,MAAM;AACtC,CAAC;AAED,OAAO,MAAMC,SAAS,GAAG;EACvBC,KAAK,EAAEA,CAAA,KACLlC,GAAG,CAACS,GAAG,CAAC,SAAS;AACrB,CAAC;AAED,eAAeT,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}